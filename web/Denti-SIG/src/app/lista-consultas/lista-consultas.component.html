<app-header class="fixed-header"></app-header>

<div class="pacientes-wrapper">
  <div class="pacientes-container">
    <h2>Consultas Agendadas</h2>

    <div class="filtros">
        <input
            type="date"
            [(ngModel)]="filtroData"
            (change)="filtrarConsultas()" />

        <select [(ngModel)]="filtroStatus" (change)="filtrarConsultas()">
            <option value="">Todos os status</option>
            <option value="agendada">Agendada</option>
            <option value="realizada">Realizada</option>
            <option value="cancelada">Cancelada</option>
        </select>
    </div>


    <hr class="separador" />

    <div *ngIf="consultasFiltradas.length === 0">
      Nenhuma consulta encontrada.
    </div>

    <div *ngIf="consultasFiltradas.length > 0" class="lista">
      <div *ngFor="let consulta of consultasFiltradas"
          class="paciente-card"
          (click)="abrirConsulta(consulta)">
        <strong>{{ consulta.paciente_nome }}</strong><br />
        <span>{{ consulta.data }} Ã s {{ consulta.hora }}</span><br />
        <span>Status: {{ consulta.status }}</span>
      </div>
    </div>
  </div>
</div>
